"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[634],{9727:function(e,t,n){n.r(t),n.d(t,{_frontmatter:function(){return p},default:function(){return c}});var o=n(87462),i=n(63366),a=(n(15007),n(64983)),m=n(91515),r=["components"],p={},d={_frontmatter:p},l=m.Z;function c(e){var t=e.components,n=(0,i.Z)(e,r);return(0,a.mdx)(l,(0,o.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.mdx)("h1",{id:"qt6-migration"},"Qt6 Migration"),(0,a.mdx)("p",null,"Painter version 10.1 moved from Qt5 to Qt6, which introduces breaking changes in Python plugins. The most notable change in the PySide module going from version 2 to 6."),(0,a.mdx)("p",null,"Plugins created before version 10.1 of Painter will need to be updated to work in newer versions."),(0,a.mdx)("h2",{id:"pyside-changes"},"Pyside changes"),(0,a.mdx)("ul",null,(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("p",{parentName:"li"},(0,a.mdx)("strong",{parentName:"p"},"Pyside")," module name changed, so the import process is now different."),(0,a.mdx)("blockquote",{parentName:"li"},(0,a.mdx)("p",{parentName:"blockquote"},"Before:"),(0,a.mdx)("p",{parentName:"blockquote"},(0,a.mdx)("inlineCode",{parentName:"p"},"from PySide2 import QtWidgets, QtGui")),(0,a.mdx)("p",{parentName:"blockquote"},"Now:"),(0,a.mdx)("p",{parentName:"blockquote"},(0,a.mdx)("inlineCode",{parentName:"p"},"from PySide6 import QtWidgets, QtGui")))),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("p",{parentName:"li"},(0,a.mdx)("strong",{parentName:"p"},"QAction")," is now under another module."),(0,a.mdx)("blockquote",{parentName:"li"},(0,a.mdx)("p",{parentName:"blockquote"},"Before:"),(0,a.mdx)("p",{parentName:"blockquote"},(0,a.mdx)("inlineCode",{parentName:"p"},"QtWidgets.QAction")),(0,a.mdx)("p",{parentName:"blockquote"},"Now:"),(0,a.mdx)("p",{parentName:"blockquote"},(0,a.mdx)("inlineCode",{parentName:"p"},"QtGui.QAction")))),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("p",{parentName:"li"},(0,a.mdx)("strong",{parentName:"p"},"QKeySequence")," operator changed from + (plus) to | (pipe) character."),(0,a.mdx)("blockquote",{parentName:"li"},(0,a.mdx)("p",{parentName:"blockquote"},"Before:"),(0,a.mdx)("p",{parentName:"blockquote"},(0,a.mdx)("inlineCode",{parentName:"p"},"QtCore.Qt.CTRL + QtCore.Qt.Key_P")),(0,a.mdx)("p",{parentName:"blockquote"},"Now:"),(0,a.mdx)("p",{parentName:"blockquote"},(0,a.mdx)("inlineCode",{parentName:"p"},"QtCore.Qt.CTRL | QtCore.Qt.Key_P")))),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("p",{parentName:"li"},(0,a.mdx)("strong",{parentName:"p"},"exec_()")," function has been replaced by ",(0,a.mdx)("strong",{parentName:"p"},"exec()"),"."),(0,a.mdx)("blockquote",{parentName:"li"},(0,a.mdx)("p",{parentName:"blockquote"},"Before:"),(0,a.mdx)("p",{parentName:"blockquote"},(0,a.mdx)("inlineCode",{parentName:"p"},"dialog.exec_()")),(0,a.mdx)("p",{parentName:"blockquote"},"Now:"),(0,a.mdx)("p",{parentName:"blockquote"},(0,a.mdx)("inlineCode",{parentName:"p"},"dialog.exec()")))),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("p",{parentName:"li"},(0,a.mdx)("strong",{parentName:"p"},"setMargin")," is replaced by ",(0,a.mdx)("strong",{parentName:"p"},"setContentsMargins"),"."),(0,a.mdx)("blockquote",{parentName:"li"},(0,a.mdx)("p",{parentName:"blockquote"},"Before:"),(0,a.mdx)("p",{parentName:"blockquote"},(0,a.mdx)("inlineCode",{parentName:"p"},"setMargin(10)")),(0,a.mdx)("p",{parentName:"blockquote"},"Now:"),(0,a.mdx)("p",{parentName:"blockquote"},(0,a.mdx)("inlineCode",{parentName:"p"},"setContentsMargins(10, 10, 10, 10)"))))),(0,a.mdx)("h2",{id:"dynamic-check-between-qt5-and-qt6"},"Dynamic check between Qt5 and Qt6"),(0,a.mdx)("p",null,"Writing plugins that work over several versions of Painter will require to check which version of the PySide module is available. Here is a simple code snippet that show how to achieve this:"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-python"},'# Qt5 vs Qt6 check import\nimport importlib.util\nPysideSpec = importlib.util.find_spec("PySide2")\nIsQt5 = ( PysideSpec is not None )\n\nif IsQt5 :\n    from PySide2 import QtGui\n    from PySide2 import QtCore\n    from PySide2 import QtWidgets\nelse :\n    from PySide6 import QtGui\n    from PySide6 import QtCore\n    from PySide6 import QtWidgets\n\n# Usage example\nActionBuilder = None\nif IsQt5 :\n    ActionBuilder = QtWidgets.QAction\nelse :\n    ActionBuilder = QtGui.QAction\n\nAction = ActionBuilder(\n    "My menu action",\n    triggered=MyFunctionToCall\n)\n')),(0,a.mdx)("h2",{id:"further-information-and-guides"},"Further information and guides"),(0,a.mdx)("p",null,"More information can be found on the Qt website:"),(0,a.mdx)("ul",null,(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("a",{parentName:"li",href:"https://doc.qt.io/qtforpython-6.5/gettingstarted/porting_from2.html"},"Porting Applications from PySide2 to PySide6")),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("a",{parentName:"li",href:"https://doc.qt.io/qt-6/qtcore-changes-qt6.html"},"Changes to Qt Core")),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("a",{parentName:"li",href:"https://doc.qt.io/qt-6/portingguide.html"},"Porting to Qt 6"))))}c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-qt-6-migration-md-f878a182a26f1963989a.js.map